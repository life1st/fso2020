{"version":3,"sources":["App.js","request.js","index.js"],"names":["App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","searchingName","setSearchingName","useEffect","axios","get","then","res","data","showPersons","filter","name","toLowerCase","indexOf","value","onChange","e","target","onSubmit","preventDefault","some","alert","info","number","post","AddPerson","type","map","key","ReactDOM","render","document","getElementById"],"mappings":"sNAyEeA,EAvEH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACRC,EADQ,KACCC,EADD,OAEgBF,mBAAS,IAFzB,mBAERG,EAFQ,KAECC,EAFD,OAGoBJ,mBAAS,IAH7B,mBAGRK,EAHQ,KAGGC,EAHH,OAI4BN,mBAAS,IAJrC,mBAIRO,EAJQ,KAIOC,EAJP,KAMhBC,qBAAU,WCCHC,IAAMC,IAFM,gBDGhBC,MAAK,SAAAC,GACJ,IAAMZ,EAAUY,EAAIC,KACpBZ,EAAWD,QAEZ,IAEH,IA2BMc,EAAcd,EAAQe,QAAO,YACjC,OAD6C,EAAVC,KACvBC,cAAcC,QAAQZ,IAAkB,KAEtD,OACE,6BACE,yCACA,6BACE,8CAEE,2BAAOa,MAAOb,EAAec,SA9BP,SAACC,GAC7Bd,EAAiBc,EAAEC,OAAOH,YAgCxB,0BAAMI,SA9Be,SAACF,GAExB,GADAA,EAAEG,iBACc,KAAZtB,EACJ,GAAIF,EAAQyB,MAAK,qBAAET,OAAmBd,KACpCwB,MAAM,GAAD,OAAIxB,EAAJ,uCADP,CAIA,IAAMyB,EAAO,CAACX,KAAMd,EAAS0B,OAAQxB,GACrCH,EAAW,GAAD,mBACLD,GADK,CAER2B,KCXmB,SAAC,GAAoB,IAAnBX,EAAkB,EAAlBA,KAAMY,EAAY,EAAZA,OAG/B,OAAOnB,IAAMoB,KAFM,eAEI,CAACb,OAAMY,WDU5BE,CAAUH,GAAMhB,MAAK,WACnBR,EAAW,IACXE,EAAa,UAiBX,yCACA,sCACQ,2BAAOc,MAAOjB,EAASkB,SA1CZ,SAACC,GACxBlB,EAAWkB,EAAEC,OAAOH,UAwChB,WAEU,2BAAOA,MAAOf,EAAWgB,SAxCd,SAACC,GAC1BhB,EAAagB,EAAEC,OAAOH,WAyClB,6BACE,4BAAQY,KAAK,UAAb,SAGJ,uCACCjB,EAAYkB,KAAI,gBAAEhB,EAAF,EAAEA,KAAMY,EAAR,EAAQA,OAAR,OACf,uBAAGK,IAAKjB,GAAOA,EAAf,IAAsBY,QE/D9BM,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.57d81c48.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { fetchAll, AddPerson } from './request'\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchingName, setSearchingName ] = useState('')\n\n  useEffect(() => {\n    fetchAll()\n    .then(res => {\n      const persons = res.data\n      setPersons(persons)\n    })\n  }, [])\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value)\n  }\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value)\n  }\n  const handleSearchingChange = (e) => {\n    setSearchingName(e.target.value)\n  }\n  const handleFromSubmit = (e) => {\n    e.preventDefault()\n    if (newName === '') return\n    if (persons.some(({name}) => name === newName)) {\n      alert(`${newName} is already added to phonebook`)\n      return\n    }\n    const info = {name: newName, number: newNumber}\n    setPersons([\n      ...persons,\n      info\n    ])\n    AddPerson(info).then(() => {\n      setNewName('')\n      setNewNumber('')\n    })\n  }\n\n  const showPersons = persons.filter(({name}) => {\n    return name.toLowerCase().indexOf(searchingName) > -1\n  })\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <div>\n        <p>\n          Filter show with\n          <input value={searchingName} onChange={handleSearchingChange}/>\n        </p>\n      </div>\n      <form onSubmit={handleFromSubmit}>\n        <h3>Add a new</h3>\n        <div>\n          name: <input value={newName} onChange={handleNameChange}/>\n          number: <input value={newNumber} onChange={handleNumberChange}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      {showPersons.map(({name, number}) => (\n        <p key={name}>{name} {number}</p>\n      ))}\n    </div>\n  )\n}\n\nexport default App\n","import axios from 'axios'\n\nconst isProd = process.env.NODE_ENV === 'production'\n\nconst baseUrl = isProd ? '' : 'http://localhost:3001'\n\nexport const fetchAll = () => {\n  const url = baseUrl + `/api/persons`\n\n  return axios.get(url)\n}\n\nexport const fetchPersonById = (id) => {\n  const url = baseUrl + `/api/persons/${id}`\n\n  return axios.get(url)\n}\n\nexport const deletePersonById = (id) => {\n  const url = baseUrl + `/api/persons/${id}`\n\n  return axios.get(url)\n}\n\nexport const AddPerson = ({name, number}) => {\n  const url = baseUrl + `/api/persons`\n\n  return axios.post(url, {name, number})\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}